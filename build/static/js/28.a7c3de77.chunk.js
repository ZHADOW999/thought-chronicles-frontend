"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[28],{6328:(e,s,t)=>{t.d(s,{A:()=>c});t(9950);var a=t(5481),r=t(2074),l=t(94),o=t(7965),i=t(4903),n=t(58),d=t(4414);const c=()=>(0,d.jsx)("div",{className:" bg-bg-color-light1 dark:bg-gray-800 px-4 md:hidden fixed bottom-0 left-0 right-0 z-[1000] h-16 ",children:(0,d.jsx)("div",{className:"bg-bg-color-light1 dark:bg-gray-800 px-4 md:hidden fixed bottom-0 left-0 right-0 z-[1000] h-16",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsx)(r.N_,{to:"/",children:(0,d.jsxs)(l.A,{className:"flex-shrink-0 p-2 text-black flex flex-col",sx:{color:"black",svg:{fontSize:{xs:"1rem",sm:"1.5rem"}}},children:[(0,d.jsx)(o.A,{}),(0,d.jsx)("p",{className:"text-1",children:"Home"})]})}),(0,d.jsx)(r.N_,{to:"/library",children:(0,d.jsxs)(l.A,{className:"flex-shrink-0 p-2 text-white flex flex-col",sx:{color:"black",svg:{fontSize:{xs:"1rem",sm:"1.5rem"}}},children:[(0,d.jsx)(n.A,{}),(0,d.jsx)("p",{className:"text-1",children:"Bookmarks"})]})}),(0,d.jsx)(r.N_,{to:"/stories",children:(0,d.jsxs)(l.A,{className:"items-center p-2 flex-shrink-0 flex flex-col",sx:{color:"black"},children:[(0,d.jsx)(i.M3v,{className:"w-5 h-5 sm:w-7 sm:h-7"}),(0,d.jsx)("p",{className:"text-1",children:"Stories"})]})}),(0,d.jsx)(r.N_,{to:"",children:(0,d.jsxs)(l.A,{className:"flex-shrink-0 p-2 text-white flex flex-col",sx:{color:"black",svg:{fontSize:{xs:"1rem",sm:"1.5rem"}}},children:[(0,d.jsx)(a.A,{}),(0,d.jsx)("p",{className:"text-1",children:"Updates"})]})})]})})})},1880:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(2074),r=t(9950),l=t(7539),o=t(4959),i=t(8553),n=t(7082),d=t(6001),c=t(4414);const m=e=>{let{blogs:s,isLoading:t,error:m}=e;const[x,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),b=s?[...s].sort(((e,s)=>new Date(s.Blog.created_at)-new Date(e.Blog.created_at))):[],j=e=>{const s=new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}).toLowerCase();return s.charAt(0).toUpperCase()+s.slice(1)};return(0,c.jsxs)(c.Fragment,{children:[t?(0,c.jsx)("div",{children:[...Array(5)].map(((e,s)=>(0,c.jsx)(d.A,{},s)))}):"",b.map((e=>{const{images:s,sanitizedContent:t}=(e=>{const s=(new DOMParser).parseFromString(e,"text/html"),t=Array.from(s.querySelectorAll("img")).map((e=>e.src));return s.querySelectorAll("img").forEach((e=>e.remove())),{images:t,sanitizedContent:s.body.innerHTML}})(e.Blog.body),r=n.A.sanitize(t).slice(0,120);return(0,c.jsx)("div",{className:" mt-5 bg-white shadow-md p-2 sm:p-5 ",children:(0,c.jsx)("div",{className:"items-center flex flex-col md:flex-row w-full justify-between",children:(0,c.jsxs)("div",{className:"items-center flex flex-row w-full justify-between",children:[(0,c.jsxs)("div",{className:"space-y-5 "+(s.length>0?"md:[40%] w-[65%]":"md:w-[80%] w-[100%]"),children:[(0,c.jsxs)("div",{className:"w-full mb-2 md:mb-0 flex flex-row justify-start self-start h-auto",children:[(0,c.jsx)(a.N_,{to:`/profile/${e.Blog.owner_id}`,children:(0,c.jsx)(l.A,{size:40,userId:e.Blog.owner_id,altText:`User ${e.Blog.owner_id}'s Profile Picture`})}),(0,c.jsxs)("div",{className:"w-full ml-5 flex-row gap-10 flex md:mt-0",children:[(0,c.jsx)(a.N_,{to:`/profile/${e.Blog.owner_id}`,className:"font-roboto-medium grid place-items-center cursor-pointer hover:underline ",children:e.Blog.owner.author}),(0,c.jsx)("p",{className:"font-roboto-regular md:text-1 text-[11px] flex justify-center items-center opacity-50",children:j(e.Blog.created_at)})]})]}),(0,c.jsx)("h2",{className:"sm:text-4xl text-xl mt-0 text-text-color font-sans font-roboto-bold",children:e.Blog.title}),(0,c.jsxs)("p",{className:"ptag mt-0 text-1.5 md:text-2 text-gray-600 flex flex-wrap",children:[(0,c.jsx)("span",{className:"flex mt-0 font-roboto-regular",dangerouslySetInnerHTML:{__html:r}}),"...",(0,c.jsx)(a.N_,{to:`/${e.Blog.id}`,className:"font-black tracking-wide text-black md:text-1.5 hover:text-blue-600 hover:underline",children:"Read more"})]}),(0,c.jsxs)("div",{className:"flex flex-row gap-5 items-center",children:[(0,c.jsxs)("span",{className:"relative cursor-pointer",onMouseEnter:()=>u(e.Blog.id),onMouseLeave:()=>u(!1),children:[x===e.Blog.id&&(0,c.jsx)("span",{className:"absolute -bottom-[200%] transform -translate-x-1/2 -translate-y-full bg-gray-700 text-white text-xs rounded py-1 px-2",children:"Follow"}),(0,c.jsx)("p",{className:"sr-only",children:"Follow"}),(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"hover:transition-all hover:duration-300 size-6 hover:ease-in-out hover:scale-110",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})})]}),(0,c.jsxs)("span",{onMouseEnter:()=>g(e.Blog.id),onMouseLeave:()=>g(!1),className:"relative cursor-pointer",children:[(0,c.jsx)(o.g,{icon:i.G06,className:"hover:transition-all hover:duration-300 hover:ease-in-out hover:scale-110"}),h===e.Blog.id&&(0,c.jsx)("span",{className:"absolute -bottom-[200%] transform -translate-x-1/2 -translate-y-full bg-gray-700 text-white text-xs rounded py-1 px-2",children:"Bookmark"})]}),(0,c.jsxs)("span",{onMouseEnter:()=>p(e.Blog.id),onMouseLeave:()=>p(!1),className:"relative cursor-pointer",children:[(0,c.jsx)(o.g,{icon:i.qcK,className:"hover:transition-all hover:duration-300 hover:ease-in-out hover:scale-110"}),f===e.Blog.id&&(0,c.jsx)("span",{className:"absolute -bottom-[200%] transform -translate-x-1/2 -translate-y-full bg-gray-700 text-white text-xs rounded py-1 px-2",children:"Like"})]})]})]}),(0,c.jsx)("div",{className:""+(s.length>0?"block":"hidden"),children:s.length>0&&(0,c.jsx)("img",{src:s[0],alt:"First blog",className:"bg-gray-400 md:w-60 md:h-44 w-24 h-16"})})]})})},e.Blog.id)}))]})}},6001:(e,s,t)=>{t.d(s,{A:()=>r});t(9950);var a=t(4414);const r=()=>(0,a.jsxs)("div",{className:"mt-5 animate-pulse p-4 rounded-lg shadow-md bg-white w-full flex  justify-between",children:[(0,a.jsxs)("div",{className:"w-[70%] md:w-[50%]",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300"}),(0,a.jsxs)("div",{className:"ml-4 flex items-center justify-center gap-5",children:[(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded "})]})]}),(0,a.jsx)("div",{className:"h-6 w-3/4 bg-gray-300 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 w-full bg-gray-300 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 w-5/6 bg-gray-300 rounded"}),(0,a.jsxs)("div",{className:"flex gap-5 mt-4",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"}),(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"}),(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})]})]}),(0,a.jsx)("div",{className:"mt-4 md:w-60 md:h-44 w-24 h-16 bg-gray-300 rounded"})]})},6991:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(9950),r=t(2074),l=t(7704),o=t(4959),i=t(9324),n=t(4903),d=t(4414);const c=()=>((0,a.useEffect)((()=>{(0,l.Tp)()}),[]),(0,d.jsxs)("div",{"data-dial-init":!0,className:"fixed end-6 bottom-20 md:bottom-6 group",children:[(0,d.jsxs)("div",{id:"speed-dial-menu-default",className:"flex flex-col items-center hidden mb-4 space-y-2",children:[(0,d.jsx)(r.N_,{to:"/stories",children:(0,d.jsxs)("button",{type:"button","data-tooltip-target":"tooltip-download","data-tooltip-placement":"left",className:"flex justify-center items-center w-[64px] h-[64px] text-gray-500 hover:text-gray-900 bg-white rounded-full border border-gray-200 dark:border-gray-600 shadow-sm dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 focus:ring-4 focus:ring-gray-300 focus:outline-none dark:focus:ring-gray-400",children:[(0,d.jsx)(n.M3v,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"sr-only",children:"Add stories"})]})}),(0,d.jsxs)("div",{id:"tooltip-download",role:"tooltip",className:"absolute z-10 invisible inline-block w-auto px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700",children:["Add story",(0,d.jsx)("div",{className:"tooltip-arrow","data-popper-arrow":!0})]}),(0,d.jsx)(r.N_,{to:"/create",children:(0,d.jsxs)("button",{type:"button","data-tooltip-target":"tooltip-copy","data-tooltip-placement":"left",className:"flex justify-center items-center w-[64px] h-[64px] text-gray-500 hover:text-gray-900 bg-white rounded-full border border-gray-200 dark:border-gray-600 dark:hover:text-white shadow-sm dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 focus:ring-4 focus:ring-gray-300 focus:outline-none dark:focus:ring-gray-400",children:[(0,d.jsx)("svg",{className:"w-5 h-5 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:(0,d.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),(0,d.jsx)("span",{className:"sr-only",children:"Add blog"})]})}),(0,d.jsxs)("div",{id:"tooltip-copy",role:"tooltip",className:"absolute z-10 invisible inline-block w-auto px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700",children:["Add Blog",(0,d.jsx)("div",{className:"tooltip-arrow","data-popper-arrow":!0})]})]}),(0,d.jsxs)("button",{type:"button","data-dial-toggle":"speed-dial-menu-default","aria-controls":"speed-dial-menu-default","aria-expanded":"false",className:"flex items-center justify-center text-white bg-bg-color-dark rounded-full w-16 h-16 hover:bg-text-color dark:bg-white dark:hover:bg-text-color focus:ring-4 focus:ring-blue-300 focus:outline-none dark:focus:ring-gray-600",children:[(0,d.jsx)(o.g,{icon:i.hpd,className:"w-5 h-5 transition-transform group-hover:rotate-45"}),(0,d.jsx)("span",{className:"sr-only",children:"Open actions menu"})]})]}))},9321:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(9950),r=t(9246),l=t(917),o=t(4414);const i=(e,s)=>{const[t,i]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{m(!0);const t=s?{search:s}:{},a=s?`${e}?search=${encodeURIComponent(s)}`:e,l=await r.A.get(a,{params:t});if(l.status<200||l.status>=300)throw new Error("Could not get data from that resource");i(l.data),d(null)}catch(t){r.A.isAxiosError(t)?t.response?(t.response.status,d((0,o.jsx)(l.A,{}))):d(`Network Error: ${t.message}`):d(`An unexpected error occurred: ${t.message||"An error occurred"}`)}finally{m(!1)}})()}),[e,s]),{data:t,loading:c,error:n}}},7340:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(9950),r=t(8429),l=t(3338),o=t(7539),i=t(1880),n=t(6991),d=t(8),c=t(6328),m=t(9321),x=t(4785),u=t(4959),h=t(9246),g=t(4414);const f=function(e){let{closeModal:s}=e;const{userId:t}=(0,r.g)(),[l,o]=(0,a.useState)(null),[i,n]=(0,a.useState)(""),[d,c]=(0,a.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"fixed top-0 right-0 bg-black bg-opacity-70 z-40 h-full",onClick:s}),(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-11/12 max-w-md p-6 relative",children:[(0,g.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Profile"}),(0,g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(l){const e=new FormData;e.append("file",l),await h.A.post(`https://tc.a.7o7.cx/api/users/${t}/upload-profile-picture`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"multipart/form-data"},withCredentials:!0})}(i||d)&&await h.A.put(`https://tc.a.7o7.cx/api/users/profiles/${t}`,{author:i,bio:d},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"multipart/form-data"},withCredentials:!0}),s(),o(null),n(""),c(""),alert("Profile updated successfully!")}catch(a){console.error("Error updating profile:",a),alert("Image my be less than 1 megabyte!")}},children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Profile Picture:"}),(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];o(s)},className:"block w-full text-sm border rounded-lg px-3 py-2 focus:ring focus:ring-green-500 focus:outline-none"}),l&&(0,g.jsx)("img",{src:URL.createObjectURL(l),alt:"Preview",className:"mx-auto mt-2 rounded-full w-32 h-32 object-cover"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"author:"}),(0,g.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"block w-full text-sm border rounded-lg px-3 py-2 focus:ring focus:ring-green-500 focus:outline-none"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Bio:"}),(0,g.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),className:"block w-full text-sm border rounded-lg px-3 py-2 focus:ring focus:ring-green-500 focus:outline-none"})]}),(0,g.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,g.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500 transition",children:"Cancel"}),(0,g.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 transition",children:"Save Changes"})]})]})]})})]})};var p=t(5174);t(6712);const b=()=>{const{userId:e}=(0,r.g)(),[s,t]=(0,a.useState)(!0),[h,b]=(0,a.useState)(null),[j,w]=(0,a.useState)([]),[y,v]=(0,a.useState)(!1),{userData:N}=(0,d.A)("/api/users/me"),{data:k}=(0,m.A)(`https://tc.a.7o7.cx/api/users/profiles/${e}`);(0,a.useEffect)((()=>{(async()=>{t(!0);try{const s=await l.A.get(`/api/blogs/users/${e}`);w(s.data)}catch(s){b(s.message),console.error(s)}finally{t(!1)}})()}),[e]);const A=j.length;return(0,g.jsxs)(g.Fragment,{children:[h&&(0,g.jsx)("div",{className:" text-4xl uppercase mt-40 w-[80%] m-auto flex flex-col gap-5 justify-center items-center",children:h}),(0,g.jsxs)("div",{className:" flex flex-col lg:flex-row  sm:pt-28 pt-20 sm:w-[95%] w-[100%] m-auto pb-20 justify-between",children:[s?(0,g.jsxs)("div",{className:"w-full flex flex-col items-center space-y-4 md:space-x-4 p-4 bg-gray-50 rounded-md shadow h-auto md:h-96 animate-pulse md:w-[35%] mr-10",children:[(0,g.jsx)("div",{className:"size-60 bg-gray-200 rounded-full animate-pulse"}),(0,g.jsxs)("div",{className:"flex-1 space-y-3 mt-2 w-full flex flex-col justify-center items-center ",children:[(0,g.jsx)("div",{className:"h-6 bg-gray-200 rounded-md animate-pulse w-[100%]   mt-2"}),(0,g.jsxs)("div",{className:"space-y-2  mt-2 w-full md:block flex justify-center items-center flex-col",children:[(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded-md animate-pulse w-3/4"}),(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded-md animate-pulse w-2/4"}),(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded-md animate-pulse w-1/4"})]})]})]}):(0,g.jsxs)("div",{className:" flex  flex-col items-center text-center md:text-left  gap-5 md:items-start  md:justify-start justify-center",children:[(0,g.jsxs)("div",{className:"relative",children:[e&&(0,g.jsx)(o.A,{size:250,userId:e}),N&&k&&N.id===k.id&&(0,g.jsx)(p.Tooltip,{title:"edit profile",position:"right",interactive:!0,trigger:"mouseenter",className:"absolute md:top-5 md:right-5 top-3 right-0",children:(0,g.jsx)(u.g,{icon:x.m1,onClick:()=>v(!0),className:"size-10 realative"})}),y&&(0,g.jsx)(f,{closeModal:()=>v(!1)})]}),k&&(0,g.jsxs)("div",{className:"font-roboto-regular w-[50%] ",children:[(0,g.jsx)("h1",{className:" mx-auto text-5 font-roboto-bold leading-tight text-wrap whitespace-normal w-auto break-words",children:k.author}),null!==k.bio&&(0,g.jsxs)("p",{className:"mb-2 font-roboto-regular",children:[(0,g.jsx)("span",{className:"font-roboto-bold mr-[1px]",children:"bio: "}),k.bio]}),(0,g.jsx)("div",{className:"font-roboto-regular",children:"0 following"}),(0,g.jsx)("div",{className:"font-roboto-regular",children:"0 followers"}),(0,g.jsxs)("div",{children:[A," blogs"]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col w-full mt-10 lg:mt-0 lg:w-[60%]",children:[(0,g.jsx)("h2",{className:"text-7 font-roboto-bold",children:"History"}),j&&(0,g.jsx)(i.A,{blogs:j,userId:e,isLoading:s}),!1===s&&0===A&&(0,g.jsx)("p",{children:"Let\u2019s turn this empty space into a place buzzing with your ideas! "})]}),(0,g.jsx)(n.A,{})]}),(0,g.jsx)(c.A,{})]})}}}]);